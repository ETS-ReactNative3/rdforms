<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  </head>
  <body class="tundra">
    <script>
    var dojoConfig = {
	async:true,
	packages: [
	    { name: "rdforms", location: "../.." }]
    };
   </script>
    <script src="../libs/dojo/dojo.js"></script>
    <style>
       @import "../libs/dijit/themes/tundra/tundra.css"; /* required when dijit */
       @import "../view/resources/rdforms.css";
    </style>
    <script type="text/javascript">
        require([
            'rdforms/template/ItemStore',
            'rdforms/apps/validator/Validator',
            'rdfjson/formats/converters',
            'dojo/json',
            'dojo/text!./dcat.rdf',         //The sample RDF
            'dojo/domReady!'
        ], function(ItemStore, Validator, converters, json, rdf) {
            var itemStore = new ItemStore();
            itemStore.loadBundles([
                "../templates/dcterms.json",
                "../templates/odrs.json",
                "../templates/foaf.json",
                "../templates/dcat-ap.json"], function() {
                var graph = converters.rdfxml2graph(rdf);
                new Validator({itemStore: itemStore, type2template: {
                    "http://www.w3.org/ns/dcat#Catalog": "dcat:Catalog",
                    "http://www.w3.org/ns/dcat#Dataset": "dcat:Dataset",
                    "http://www.w3.org/ns/dcat#Distribution": "dcat:Distribution"
                },
                    rdfjsonEditorOpen: true, rdfjson: graph.exportRDFJSON()}, "container");
            });
		});
    </script>
	<div id="container"></div>
  </body>
</html>